@tailwind base;
@tailwind components;
@tailwind utilities;

:where(code, pre, span, b)[title]:hover {
  @apply underline decoration-dotted cursor-default;
  text-underline-position: under;
}

:where(code, pre) {
  @apply m-0;
  display: initial;
}

:where(details) {
  & summary {
    @apply w-max cursor-pointer select-none;
  }
}

:is(h1, h2, h3, h4, h5, h6) .parsed-md * {
  @apply m-0;
}

:where(.parsed-md) {
  @apply font-mono;

  > * {
    @apply max-w-prose;
  }

  h1 {
    font-size: 2em;
    margin-block-start: 0.67em;
    margin-block-end: 0.67em;
  }

  pre code {
    @apply max-w-max;
    min-width: min(calc(100% - 26px), 80ch);
  }

  ul.contains-task-list {
    @apply list-none -ml-[14px];

    .task-list-item-checkbox {
      @apply align-middle;
    }
  }

  p:has(img):not(:has(:not(img))) {
    max-width: unset;
  }

  code.hljs[class*='language-'] {
    @apply relative;

    .langTag {
      @apply absolute top-1 right-2 text-xs text-zinc-400;
    }

    & > span[class*='hljs-']:first-of-type {
      @apply relative;
    }
  }

  & :last-child {
    @apply mb-0;
  }
}

vscode-dropdown::part(listbox) {
  min-width: max-content;
}
